/*＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜

	ボタン [Button.cpp]
	Author : ISAKI SUGIURA

＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞*/
#include "Button.h"


/*＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜

	コンストラクタ

＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞*/
CButton::CButton(CScene* pScene) : C2DObj(pScene)
{
	m_id = GOT_2DOBJ;
}


/*＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜

	初期化

＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞*/
HRESULT CButton::Init()
{
	HRESULT hr = C2DObj::Init();
	if (FAILED(hr)) { return hr; }

	//＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝
	// 変数初期化
	//＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝
	m_fPos = XMFLOAT2(0.0f, 0.0f);
	m_fSize = XMFLOAT2(0.0f, 0.0f);
	m_fColor = XMFLOAT4(1.0f, 1.0f, 1.0f, 1.0f);

	m_iID = 0;
	m_bIsNowSelect = false;
	m_fNowSelectPos = XMFLOAT2(0.0f, 0.0f);
	m_fNowSelectSize = XMFLOAT2(0.0f, 7.5f);
	m_fNowSelectMaxSize = 0.0f;

	SetCenter(m_fPos);
	SetBBox(XMFLOAT2(m_fSize.x / 2.0f, m_fSize.y / 2.0f));

	return hr;
}


/*＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜

	更新

＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞*/
void CButton::Update()
{
}


/*＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜

	描画

＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞*/
void CButton::Draw()
{
}

/*＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜＜

	選択中を示すUIのサイズ操作
	少しずつサイズが変わります

＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞＞*/
void CButton::NowSelectScaleUp()
{
	// 横に伸びきったらスルー
	if ((m_bIsNowSelect) && (m_fNowSelectSize.x == m_fNowSelectMaxSize)) { return; }

	m_fNowSelectSize.x += m_fNowSelectMaxSize / 10.0f;
	if (m_fNowSelectMaxSize < m_fNowSelectSize.x)
	{
		m_fNowSelectSize.x = m_fNowSelectMaxSize;
		m_bIsNowSelect = true;
	}
}
void CButton::NowSelectScaleDown()
{
	// 縮みきったらスルー
	if ((!m_bIsNowSelect) && (m_fNowSelectSize.x == 0.0f)) { return; }

	m_fNowSelectSize.x -= m_fNowSelectMaxSize / 10.0f;
	if (m_fNowSelectSize.x < 0)
	{
		m_fNowSelectSize.x = 0.0f;
		m_bIsNowSelect = false;
	}
}